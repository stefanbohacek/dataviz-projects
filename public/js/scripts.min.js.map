{"version":3,"names":[],"mappings":"","sources":["scripts.js"],"sourcesContent":["window.helpers = {\r\n    ready: (fn) => {\r\n        if (document.readyState !== 'loading'){\r\n            fn();\r\n        } else {\r\n            document.addEventListener('DOMContentLoaded', fn);\r\n        }\r\n    },\r\n    getMonth: (index) => {\r\n        return ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'][index];\r\n    },\r\n    getMaxValueIndices: (arr) => {\r\n      let max = -Infinity, indices = [];\r\n      for (let i = 0; i < arr.length; ++i){\r\n        if (arr[i] < max) continue;\r\n        if (arr[i] > max) {\r\n          indices = [];\r\n          max = arr[i];\r\n        }\r\n        indices.push(i);\r\n      }\r\n      return indices;\r\n    },\r\n    sortArrayOfObjects: (arr, key, desc) => {\r\n        if (desc){\r\n            arr.sort((a, b) => (a[key] < b[key]) ? 1 : -1);\r\n        } else {\r\n            arr.sort((a, b) => (a[key] > b[key]) ? 1 : -1);\r\n        }\r\n        return arr;\r\n    },\r\n    highlightMax: (chart, color) => {\r\n        const tooltip = chart.tooltip;\r\n        const chartArea = chart.chartArea;\r\n        const maxValueIndices = window.helpers.getMaxValueIndices(chart.data.datasets[0].data);\r\n\r\n\r\n        if (color){\r\n            chart.data.datasets[0].backgroundColor = chart.data.datasets[0].backgroundColor || [];\r\n\r\n            for (let i = 0; i < chart.data.datasets[0].data.length; i++){\r\n                chart.data.datasets[0].backgroundColor[i] = Chart.defaults.backgroundColor;\r\n            }\r\n        }\r\n\r\n        if (!window.helpers.isMobile()){\r\n            maxValueIndices.forEach(maxValueIndex => {\r\n                tooltip.setActiveElements(\r\n                    [\r\n                        {\r\n                            datasetIndex: 0,\r\n                            index: maxValueIndex,\r\n                        }\r\n                    ],\r\n                    {\r\n                        x: (chartArea.left + chartArea.right) / 2,\r\n                        y: (chartArea.top + chartArea.bottom) / 2,\r\n                    }\r\n               );\r\n\r\n                if (color){\r\n                    chart.data.datasets[0].backgroundColor[maxValueIndex] = color;\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        chart.update();\r\n    },\r\n    median: (values) => {\r\n      if(values.length ===0) throw new Error(\"No inputs\");\r\n\r\n      values.sort(function(a,b){\r\n        return a-b;\r\n      });\r\n\r\n      var half = Math.floor(values.length / 2);\r\n      \r\n      if (values.length % 2)\r\n        return values[half];\r\n      \r\n      return (values[half - 1] + values[half]) / 2.0;\r\n    },\r\n    mapboxHelper: {\r\n        addMarkers: (map, locations, previousMarkers, colorDefault, colorHighlight, indexHighlight) => {\r\n            if (previousMarkers && previousMarkers.length){\r\n                previousMarkers.forEach(marker => {\r\n                    marker.remove();\r\n                });\r\n            }\r\n\r\n            let markers = [];\r\n            locations.forEach((location, index) =>{\r\n                const marker = new mapboxgl.Marker({\r\n                    color: index === indexHighlight ? colorHighlight : colorDefault\r\n                })\r\n                .setLngLat([location[0], location[1]])\r\n                .addTo(map);\r\n\r\n                markers.push(marker);\r\n            });\r\n\r\n            return markers;\r\n        },\r\n    },\r\n    preloadImages: (urls) => {\r\n        urls.forEach((url) => {\r\n            let img = new Image();\r\n            img.src = url;\r\n        });\r\n    },\r\n    isSafari: () => {\r\n        return navigator.vendor &&\r\n               navigator.vendor.indexOf('Apple') > -1 &&\r\n               navigator.userAgent &&\r\n               navigator.userAgent.indexOf('CriOS') === -1 &&\r\n               navigator.userAgent.indexOf('FxiOS') === -1;\r\n    },\r\n    isSafariMobile: () => {\r\n        const ua = window.navigator.userAgent;\r\n        const iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);\r\n        const webkit = !!ua.match(/WebKit/i);\r\n        const iOSSafari = iOS && webkit && !ua.match(/CriOS/i);\r\n        return iOSSafari;\r\n    },\r\n    isMobile: () => {\r\n        var isMobile = false;\r\n        if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm(os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) \r\n            || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s)|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp(i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac(|\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt(|\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg(g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v)|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v)|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-|)|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4))) { \r\n            isMobile = true;\r\n        }\r\n        return isMobile;\r\n    }\r\n};\r\n\r\nwindow.helpers.ready(() => {\r\n    if (window.helpers.isSafari() && !window.helpers.isSafariMobile()){\r\n        const stickyEls = document.querySelectorAll('.col-sm-12.sticky-top');\r\n        if (stickyEls && stickyEls.length){\r\n            for (let i = 0, j = stickyEls.length; i < j; i++){\r\n                console.log(stickyEls[0].dataset.keepSticky);\r\n                if (stickyEls[0].dataset && !stickyEls[0].dataset.keepSticky){\r\n                    stickyEls[0].classList.remove('sticky-top');\r\n                }\r\n            }\r\n        }\r\n    }\r\n});"],"file":"scripts.min.js"}