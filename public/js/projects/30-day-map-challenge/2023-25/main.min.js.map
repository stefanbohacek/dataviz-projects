{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["import ready from \"/js/modules/ready.min.js\";\n\nready(async () => {\n  const resp = await fetch(\"/data/antarctica/south-pole-stations.json\");\n  const stations = await resp.json();\n\n  mapboxgl.accessToken =\n    \"pk.eyJ1IjoiZm91cnRvbmZpc2giLCJhIjoiY2xvZ2g5MjkxMHR0dzJybzFjeWl1dWwxbCJ9.LrPluFJuIzcHp5Ts7HZb9Q\";\n\n  const map = new mapboxgl.Map({\n    container: \"map\",\n    style: \"mapbox://styles/mapbox/light-v11\",\n    center: [0, 0],\n    zoom: 3,\n  });\n\n  map.on(\"load\", () => {\n    map.flyTo({\n      center: [135.0, -82.862755],\n      duration: 8000,\n      zoom: 2,\n    });\n\n    stations.forEach((station, index) => {\n      const popupHtml = `\n      <h3>${station.name}</h3>\n      <p>\n        <img width=\"220\" src=\"/data/antarctica/stations/${station.name}.jpg\">\n        <br/>\n        <a target=\"_blank\" href=\"${station.url}\">\n          ${station.name}\n        </a>\n      </p>\n      `;\n      const marker = new mapboxgl.Marker()\n        .setLngLat([station.location.lon, station.location.lat])\n        .setPopup(new mapboxgl.Popup({ offset: 25 }).setHTML(popupHtml))\n        .addTo(map);\n\n      if (index === 0) {\n        const popup = new mapboxgl.Popup({\n          // closeOnClick: false,\n          // closeButton: false,\n        })\n          .setLngLat([station.location.lon, station.location.lat])\n          .setHTML(popupHtml)\n          .addTo(map);\n      }\n    });\n  });\n});\n"],"file":"main.min.js"}